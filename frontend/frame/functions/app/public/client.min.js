const address={licenses:["http://localhost:5001/frame-25f3b/us-central1/frame/public/license.json"],pictureCredits:["http://localhost:5001/frame-25f3b/us-central1/frame/public/picture-credit.json"]},handleError=e=>{console.error(e)};function apiCall(s,l,e){return new Promise((a,e)=>{const t=new XMLHttpRequest;t.onreadystatechange=t=>{if(4===t.target.readyState)if(200===t.target.status){let e;t.target.responseText&&(e=JSON.parse(t.target.responseText)),a(e)}else e()},t.open(l,s,!0),t.withCredentials=!0,t.setRequestHeader("Content-type","application/x-www-form-urlencoded");const n=document.querySelector('meta[name="csrf-token"]');var r;!n||(r=n.getAttribute("content"))&&t.setRequestHeader("CSRF-Token",r),t.send()})}const addNewElement=e=>{const{attributes:t,classes:a,parent:n,elementName:r,innerHtml:s,innerText:l}=e,c=document.createElement(r);return t&&t.forEach(e=>{var{name:t,value:e}=e;c.setAttribute(t,e)}),a&&a.forEach(e=>c.classList.add(e)),s&&(c.innerHTML=s),!l&&0!==l||(c.innerText=l),n.appendChild(c),c},addDivElement=e=>{const t=e;return t.elementName="div",addNewElement(t)},addSelectElement=e=>{const{parent:t,labelAttributes:a=[],id:n,label:r,selectAttributes:s=[],options:l}=e;e=a;a.push({name:"for",value:n});e=addNewElement({parent:t,elementName:"label",attributes:e,innerText:r});const c=s;c.push({name:"id",value:n}),c.push({name:"name",value:n});const d=addNewElement({parent:t,elementName:"select",attributes:c});return l&&l.forEach(({name:e,value:t,selected:a})=>{const n=[{name:"value",value:t}];a&&n.push({name:"selected",value:"selected"}),addNewElement({parent:d,elementName:"option",innerText:e,attributes:n})}),{labelElement:e,selectElement:d}},addSubmitElement=e=>{var{attributes:t=[],parent:a,value:e}=e;const n=t;return n.push({name:"type",value:"submit"}),n.push({name:"value",value:e}),addNewElement({parent:a,elementName:"input",attributes:n})},loadLicenses=async()=>{const s=document.getElementById("licenses");if(s){var e=address.licenses.map(e=>apiCall(e,"GET"));const t=await Promise.all(e),l={};t.forEach(e=>{e.forEach(({name:e,licenseType:t,link:a,installedVersion:n})=>{let r=!1;l[e]?l[e].includes(n)||(l[e].push(n),r=!0):(l[e]=[n],r=!0),r&&(a=a.replace(/^(git\+?)/i,"").replace(/^(:)/i,"https:"),addNewElement({parent:s,elementName:"a",innerText:e+` ${n} (${t})`,attributes:[{name:"href",value:a}]}))})})}};document.getElementById("id_c29b58e4b3ab492692b4bd06dc90aeb5")&&loadLicenses().catch(handleError);const loadPictureCredits=async()=>{const r=document.getElementById("pictures");if(r){var e=address.pictureCredits.map(e=>apiCall(e,"GET"));const t=await Promise.all(e);t.forEach((e,t)=>{const n=address.pictureCredits[t].substr(0,address.pictureCredits[t].lastIndexOf("/"));e&&e.forEach&&e.forEach(({name:e,author:t})=>{var a=addDivElement({parent:r,classes:["grid-col-2"]});addNewElement({parent:a,elementName:"img",attributes:[{name:"src",value:n+"/"+e},{name:"alt",value:e},{name:"width",value:150},{name:"height",value:50}]}),addDivElement({parent:a,innerText:e+" - "+t})})})}};document.getElementById("id_ca156b87aaaf42fd9ff1ccecda7828c2")&&loadPictureCredits().catch(handleError);