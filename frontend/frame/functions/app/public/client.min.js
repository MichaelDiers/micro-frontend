const address={licenses:["http://localhost:5001/frame-25f3b/us-central1/frame/public/license.json"]},handleError=e=>{console.error(e)};function apiCall(l,r,e){return new Promise((a,e)=>{const t=new XMLHttpRequest;t.onreadystatechange=t=>{if(4===t.target.readyState)if(200===t.target.status){let e;t.target.responseText&&(e=JSON.parse(t.target.responseText)),a(e)}else e()},t.open(r,l,!0),t.withCredentials=!0,t.setRequestHeader("Content-type","application/x-www-form-urlencoded");const n=document.querySelector('meta[name="csrf-token"]');var s;!n||(s=n.getAttribute("content"))&&t.setRequestHeader("CSRF-Token",s),t.send()})}const addNewElement=e=>{const{attributes:t,classes:a,parent:n,elementName:s,innerHtml:l,innerText:r}=e,c=document.createElement(s);return t&&t.forEach(e=>{var{name:t,value:e}=e;c.setAttribute(t,e)}),a&&a.forEach(e=>c.classList.add(e)),l&&(c.innerHTML=l),!r&&0!==r||(c.innerText=r),n.appendChild(c),c},addDivElement=e=>{const t=e;return t.elementName="div",addNewElement(t)},addSelectElement=e=>{const{parent:t,labelAttributes:a=[],id:n,label:s,selectAttributes:l=[],options:r}=e;e=a;a.push({name:"for",value:n});e=addNewElement({parent:t,elementName:"label",attributes:e,innerText:s});const c=l;c.push({name:"id",value:n}),c.push({name:"name",value:n});const i=addNewElement({parent:t,elementName:"select",attributes:c});return r&&r.forEach(({name:e,value:t,selected:a})=>{const n=[{name:"value",value:t}];a&&n.push({name:"selected",value:"selected"}),addNewElement({parent:i,elementName:"option",innerText:e,attributes:n})}),{labelElement:e,selectElement:i}},addSubmitElement=e=>{var{attributes:t=[],parent:a,value:e}=e;const n=t;return n.push({name:"type",value:"submit"}),n.push({name:"value",value:e}),addNewElement({parent:a,elementName:"input",attributes:n})},loadLicenses=async()=>{const l=document.getElementById("licenses");if(l){var e=address.licenses.map(e=>apiCall(e,"GET"));const t=await Promise.all(e),r={};t.forEach(e=>{e.forEach(({name:e,licenseType:t,link:a,installedVersion:n})=>{let s=!1;r[e]?r[e].includes(n)||(r[e].push(n),s=!0):(r[e]=[n],s=!0),s&&(a=a.replace(/^(git\+?)/i,"").replace(/^(:)/i,"https:"),addNewElement({parent:l,elementName:"a",innerText:e+` ${n} (${t})`,attributes:[{name:"href",value:a}]}))})})}};document.getElementById("id_c29b58e4b3ab492692b4bd06dc90aeb5")&&loadLicenses().catch(handleError);