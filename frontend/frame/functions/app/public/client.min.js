const address={licenses:["http://localhost:5001/frame-25f3b/us-central1/frame/public/license.json","http://localhost:5001/frame-25f3b/us-central1/frame/public/license.json"]},handleError=e=>{console.error(e)};function apiCall(s,r,e){return new Promise((a,e)=>{const t=new XMLHttpRequest;t.onreadystatechange=t=>{if(4===t.target.readyState)if(200===t.target.status){let e;t.target.responseText&&(e=JSON.parse(t.target.responseText)),a(e)}else e()},t.open(r,s,!0),t.withCredentials=!0,t.setRequestHeader("Content-type","application/x-www-form-urlencoded");const n=document.querySelector('meta[name="csrf-token"]');var l;!n||(l=n.getAttribute("content"))&&t.setRequestHeader("CSRF-Token",l),t.send()})}const addNewElement=e=>{const{attributes:t,classes:a,parent:n,elementName:l,innerHtml:s,innerText:r}=e,c=document.createElement(l);return t&&t.forEach(e=>{var{name:t,value:e}=e;c.setAttribute(t,e)}),a&&a.forEach(e=>c.classList.add(e)),s&&(c.innerHTML=s),!r&&0!==r||(c.innerText=r),n.appendChild(c),c},addDivElement=e=>{const t=e;return t.elementName="div",addNewElement(t)},addSelectElement=e=>{const{parent:t,labelAttributes:a=[],id:n,label:l,selectAttributes:s=[],options:r}=e;e=a;a.push({name:"for",value:n});e=addNewElement({parent:t,elementName:"label",attributes:e,innerText:l});const c=s;c.push({name:"id",value:n}),c.push({name:"name",value:n});const i=addNewElement({parent:t,elementName:"select",attributes:c});return r&&r.forEach(({name:e,value:t,selected:a})=>{const n=[{name:"value",value:t}];a&&n.push({name:"selected",value:"selected"}),addNewElement({parent:i,elementName:"option",innerText:e,attributes:n})}),{labelElement:e,selectElement:i}},addSubmitElement=e=>{var{attributes:t=[],parent:a,value:e}=e;const n=t;return n.push({name:"type",value:"submit"}),n.push({name:"value",value:e}),addNewElement({parent:a,elementName:"input",attributes:n})},loadLicenses=async()=>{const r=document.getElementById("licenses");if(r){var e=address.licenses.map(e=>apiCall(e,"GET"));const t=await Promise.all(e),c={};t.forEach(e=>{e.forEach(({name:e,licenseType:t,link:a,installedVersion:n})=>{let l=!1;var s;c[e]?c[e].includes(n)||(c[e].push(n),l=!0):(c[e]=[n],l=!0),l&&(s=addDivElement({parent:r}),a=a.replace(/^(git\+?)/i,"").replace(/^(:)/i,"https:"),addNewElement({parent:s,elementName:"a",innerText:e+` ${n} (${t})`,attributes:[{name:"href",value:a}]}))})})}};document.getElementById("id_c29b58e4b3ab492692b4bd06dc90aeb5")&&loadLicenses().catch(handleError);